<div  class="container card "  style="text-align: center; height: 6rem;">
    <img src="/assets/timepaylogo.png"alt="logo" style="height: 2.5rem;">
</div>

<div class="card m-4" style="margin-top: -1rem;">
   <div class="flex align-items-center gap-4">
        <p-button
            class="back-button"
            [routerLink]="['/card/cardlist']"
            icon="pi pi-arrow-left"
            nzShape="circle"
        ></p-button>
        <h5>Contact Details</h5>
    </div>
     <!-- <div>
            <p-button
                (click)="showDialog()"
                label="Add Custom Field"
            ></p-button>
        </div> -->
    <form [formGroup]="cardGroup">
        <div class="flex gap-5 flex-column-reverse md:flex-row">
            <div class="flex-auto p-fluid">
                <div class="formgrid grid">
                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2" htmlFor="username"
                            >First Name<span class="text-red-600">
                                *</span
                            ></label
                        >
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-user"></i>
                            </span>
                            <input
                                pInputText
                                placeholder="First Name"
                                formControlName="firstName"
                                maxlength="45"
                                oninput="this.value = this.value.replace(/[^a-zA-Z\s]/g, '')"
                            />
                        </div>
                        <app-validation
                            [control]="cardGroup.get('firstName')"
                            [controleName]="'firstName'"
                        ></app-validation>
                    </div>

                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2" htmlFor="username"
                            >Last Name<span class="text-red-600"> </span
                        ></label>
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-user"></i>
                            </span>
                            <input
                                pInputText
                                placeholder="Last Name"
                                formControlName="lastName"
                                maxlength="45"
                                oninput="this.value = this.value.replace(/[^a-zA-Z\s]/g, '')"
                            />
                        </div>
                    </div>
                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2" htmlFor="username"
                            >Email<span class="text-red-600"> *</span></label
                        >
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-envelope"></i>
                            </span>
                            <input
                                pInputText
                                placeholder="Email"
                                formControlName="email"
                                maxlength="45"
                            />
                        </div>
                        <app-validation
                            [control]="cardGroup.get('email')"
                            [controleName]="'Email'"
                        ></app-validation>
                    </div>
                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2" htmlFor="username"
                            >Phone Number<span class="text-red-600">
                                *</span
                            ></label
                        >
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-phone"></i>
                            </span>
                            <input
                                pInputText
                                placeholder="Phone Number"
                                formControlName="phoneNumber"
                                maxlength="10"
                                oninput="this.value = this.value.replace(/[^0-9]/g, '')"
                            />
                        </div>
                        <app-validation
                            [control]="cardGroup.get('phoneNumber')"
                            [controleName]="'Phone Number'"
                        ></app-validation>
                    </div>

                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="panNo"
                            >Company Name<span class="text-red-600"
                                >*</span
                            ></label
                        >
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-building"></i>
                            </span>
                            <input
                                pInputText
                                placeholder="CompanyName"
                                formControlName="companyName"
                            />
                        </div>
                        <app-validation
                            [control]="cardGroup.get('companyName')"
                            [controleName]="'Company Name'"
                        ></app-validation>
                    </div>

                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2"
                            >JobTitle<span class="text-red-600"> *</span></label
                        >
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-user"></i>
                            </span>
                            <input
                                pInputText
                                placeholder="JobTitle"
                                formControlName="jobTitle"
                            />
                        </div>
                        <app-validation
                            [control]="cardGroup.get('jobTitle')"
                            [controleName]="'Job Title'"
                        ></app-validation>
                    </div>

                    <div class="field col-12 lg:col-4 md:col-12">
                        <label for="firstname2"
                            >Address<span class="text-red-600"> *</span></label
                        >
                        <div class="p-inputgroup">
                            <span class="p-inputgroup-addon">
                                <i class="pi pi-map-marker"></i>
                            </span>
                            <input
                                pInputText
                                placeholder="Address"
                                formControlName="address"
                            />
                        </div>
                        <app-validation
                            [control]="cardGroup.get('address')"
                            [controleName]="'Address'"
                        ></app-validation>
                    </div>
                </div>
            </div>
        </div>

        <hr />
        <div class="flex gap-5 flex-column-reverse md:flex-row">
            <div class="flex-auto p-fluid">
                <div class="formgrid grid">
                    <div
                        class="field col-12 lg:col-4 md:col-12"
                        *ngFor="
                            let item of cardGroup?.get('other')?.controls;
                            let i = index
                        "
                        [formGroup]="item"
                    >
                        <label for="firstname2"
                            >{{ item.value?.customeLabel
                            }}<span class="text-red-600"> *</span></label
                        >
                        <div class="p-inputgroup">
                            <input
                                pInputText
                                placeholder="value"
                                formControlName="value"
                            />
                            <span
                                style="cursor: pointer"
                                class="p-inputgroup-addon"
                            >
                                <i class="pi pi-trash" [style.color]="iconClicked ? 'black' : 'red'" (click)="remove(i)"></i>
                            </span>
                        </div>
                        
                        <app-validation
                            [control]="item.get('value')"
                            [controleName]="'value'"
                        ></app-validation>
                    </div>
                </div>
            </div>
        </div>

        <div style="display: flex; justify-content: end">
            <p-button label="Submit" (click)="onSave()"></p-button>
            <!-- <p-button
                (click)="showDialog()"
                label="Add Custom Field"
            ></p-button> -->
        </div>
    </form>
</div>

<!-- <p-dialog
    header="Custom Field"
    [(visible)]="visible"
    [modal]="true"
    [style]="{ height: '28rem' }"
    [draggable]="false"
    [resizable]="false"
>
    <form [formGroup]="customFormGroup">
        <div class="field col-12">
            <label for="firstname2" htmlFor="username"
                >Custom Lable<span class="text-red-600"> *</span></label
            >
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">
                    <i class="pi pi-user"></i>
                </span>
                <input
                    [style]="{ width: '100%' }"
                    pInputText
                    placeholder="Custom lable"
                    formControlName="label"
                    maxlength="45"
                />
            </div>
            <app-validation
                [control]="cardGroup.get('label')"
                [controleName]="'label'"
            ></app-validation>
        </div>
        <div class="field col-12">
            <label for="firstname2" htmlFor="username"
                >Value<span class="text-red-600"> *</span></label
            >
            <div class="p-inputgroup">
                <span class="p-inputgroup-addon">
                    <i class="pi pi-user"></i>
                </span>
                <input
                    [style]="{ width: '100%' }"
                    pInputText
                    formControlName="value"
                    placeholder="Value"
                    maxlength="45"
                    oninput="this.value = this.value.replace(/[^a-zA-Z\s]/g, '')"
                />
            </div>
        </div>
        <div class="field col-12">
            <p-button label="Submit" (click)="onSubmit()"></p-button>
        </div>
    </form>
</p-dialog> -->
<p-toast></p-toast>
